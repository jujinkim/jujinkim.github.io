---
layout: post
title: 10. [ASDcourse] 다국어 지원
tags: [Android,AndroidStudio,Beginner,Develop]
---
보통 소규모 안드로이드 어플리케이션은 개발자의 국가에 배포하기 위해 만들어집니다.  
플레이스토어에 배포할 때에는 모든 국가를 생각없이 선택하지만, 사실 언어적 장벽때문에 한국어로 만들어진 앱은 다른 국가에서는 거의 사용되기 어렵습니다.

하지만 전세계적으로 사용되는 큰 앱들은 여러 나라의 언어를 동시에 지원합니다. 한국어로 설정된 핸드폰이면 앱의 내용도 한국어로, 영어로 설정됐다면 앱의 내용도 영어로, 일본어로 설정됐다면 내용도 일본어로.

안드로이드의 다국어 지원 기능이 이렇게 여러 언어를 볼 수 있도록 만들어줍니다.  
안드로이드에서는 핸드폰에 설정된 언어에 따라 다른 문구 리소스를 불러오는 기능이 있습니다. 이 기능을 활용하면 여러분의 어플리케이션이 좀 더 쉽게 외국인에게 사용될 수 있을 것입니다.  
한국에서 대박나도 좋지만, 이왕 대박나는거 더 많은 사람들에게 알려지는게 좋잖아요?

---
## strings.xml
안드로이드의 리소스 종류 중에는 `<string>`이 있습니다.  
그리고 \<string>을 모아놓은 리소스 파일이 `strings.xml` 입니다.

물론 모든 언어의 문구가 한 strings.xml 파일에 기록되지는 않습니다.  
언어별로 strings.xml 파일이 만들어지고, 안드로이드는 현재 핸드폰에 설정된 언어의 strings.xml를 읽어오는 방식입니다.

어떻게 안드로이드 현재 설정된 언어를 구분할까요?  
이것은 안드로이드 어플리케이션의 `리소스 분기` 기능을 알 필요가 있는데요, 이 부분은 나중에 다루도록 하겠습니다.  
우선은 문구 리소스를 어떻게 언어별로 분기하는지만 알아보겠습니다.

---
## 언어별 values 폴더
프로젝트의 `res` 폴더는 어플리케이션 안에서 사용할 각종 리소스들을 저장하는 폴더입니다. 이 중, `values` 폴더는 숫자, 또는 글자 등을 저장하는 폴더입니다.

이 values 폴더는 여러개가 존재할 수 있습니다. 그리고 어플리케이션은 현재 핸드폰의 상태에 따라 여러 values폴더중 하나를 선택하여, 그 폴더 안의 리소스를 불러옵니다.

안드로이드가 폴더를 선택하는 방법은 바로 `폴더 이름`입니다.  
"values"라는 이름 뒤에 식별자를 붙여주면, 안드로이드는 이 이름을 읽어서 판별합니다.

예를 들어서, "한국어"일 때 불러와지는 values폴더 이름은 아래와 같습니다.
> values-ko

또, 독일어일 때에는 아래와 같습니다.
> values-de

이런식으로, values 뒤에 언어 식별자를 폴더 이름에 설정해줌으로써 언어별 리소스 폴더를 만들 수 있습니다.  
꼭 언어별 식별자가 아니어도 현재 화면 해상도, 화면 크기 등 다양한 조건으로 폴더를 분기할 수 있습니다.

그럼 만약, 모든 values폴더가 현재 핸드폰 환경과 맞지 않는다면 어떻게될까요?  
values-ko, values-jp, values-fr, values-en 이렇게만 있는데 핸드폰은 중국어로 설정되어있다면?

이럴 땐, 아무런 식별자도 붙지 않은 기본 values 폴더를 참조합니다.  
꼭 values 폴더가 아니더라도, 모든 리소스 폴더는 식별자가 붙은 폴더와 함께 기본 폴더가 있어야합니다.  
또한, 식별자가 붙은 폴더 안에 정의된 모든 값들은, 식별자가 없는 기본 폴더 안에 함께 정의가 되어있어야합니다. 그래야 안드로이드가 현재 핸드폰에 맞는 values 값을 찾지 못했을 때 기본 값을 참조할 수 있기 때문입니다.

---
## 다국어 파일 만들어보기
안드로이드 스튜디오에서 아무 프로젝트를 연 후, 아래와 같이 진행합니다.
> shift2번 > strings.xml > 엔터  
> 또는  
> /src/main/res/values/strings.xml 파일 열기

이 파일이 어플리케이션 안에서 문구 리소스를 담고 있는 파일입니다.  
`<resources>` 태그 안에 여러 `<string>`들이 정의도어 있는게 보이시죠?

\<string> 태그의 구조는 아래와 같습니다.  
> `<string name="리소스 이름">문구</string>`

여기서 `리소스 이름`은 변수 이름, `문구`는 변수의 값 정도로 생각하시면 됩니다.
어플리케이션에서 리소스 이름을 통해 문구를 가져오면, 실제로 보여지는 글자는 설정된 문구입니다.

---
## 테스트
