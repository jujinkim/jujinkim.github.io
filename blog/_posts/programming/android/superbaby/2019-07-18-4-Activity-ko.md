---
layout: post
title: 4. [ASDcourse] Activity
tags: [Android,AndroidStudio,Beginner,Develop]
---
앞에서 `안드로이드 구성요소`에 대해 설명드렸었는데요, 이 중에 처음 개발하시는 분이 가장 먼저 접하는 `Activity`에 대해 아주 조금만 더 깊게 설명해볼게요.

이해를 돕기 위해, 모든 한국 안드로이드 핸드폰에 들어있는 어플리케이션인 Google Play Store를 통해 알아보도록 합시다.

우선, Google Play Store를 실행시켜봅니다.  
그럼 당연히 플레이스토어 화면이 뜰텐데요, 유저입장에서는 그냥 화면이 뜬거겠지만 여러분은 개발자이므로 조금 더 정확하게 어떤 일이 핸드폰에서 일어나고 있는지 알 필요가 있습니다.

그냥 유저가 볼 때에는 '화면이 떴고, 플레이 스토어 내용이 보인다' 이지만, 실제로는 아래와 같은 복잡한 작업이 실행됩니다.

1. `onCreate`: Activity가 만들어집니다.
2. `onStart`: Activity가 시작됩니다.
3. `onResume`: Activity가 계속됩니다.
4. 이 상태가 화면에 액티비티가 보이고 있는 상태입니다.
5. `onPause`: Activity가 일시정지됩니다.
6. `onStop`: Activity가 완전 정지됩니다.
7. `onDestroy`: Activity가 파괴됩니다.

2, 3번과 5, 6번이 무슨말인가 싶을 수 있습니다.  
2번의 경우에는 액티비티가 처음 시작될 때 실행되고, 3번은 액티비티가 일시정지되었다가 다시 시작될 때마다 실행됩니다.  
5번의 경우에는 다른 액티비티의 실행 등으로 화면에서 사라질 때 실행되고, 6번은 화면 나가기 등으로 더이상 액티비티가 필요 없다고 보일 때 실행됩니다.

고로, Play Store을 실행시켜서 화면에 내용이 보이면, `3.onResume`까지 실행 된 상태입니다.  
여기에서, 아무 앱이나 들어가서 해당 앱 페이지를 띄워봅니다. 그럼 `새 액티비티가 1~3 까지 실행`이 될 것입니다.  
다만 새 액티비티의 1~3이 실행되기 전에, 이전 액티비티의 `5.onPause`가 실행됩니다. 새 액티비티를 실행할 것이니 이전 액티비티를 일시정지 시키는 것입니다.

어떤 앱을 쓱 봤는데 마음에 들지 않아서 나가려고 합니다. 이 때 사용자는 back키를 눌러서 나갈 수 있는데요, back키를 누게 되면 화면이 사라지면서 이전 액티비티(화면)가 다시 등장합니다.  
이렇게 사라질 때, 사라지기 직전에 `새 액티비티의 5~7이 실행`됩니다. back키를 눌러 화면을 나가니, 더 이상 그 액티비티는 쓸모가 없기에 파괴까지 시켜버립니다.

앱 정보 페이지가 파괴되면서 처음 액티비티가 다시 등장하는데요, 이제 이 액티비티가 다시 화면에 보이니 이 액티비티의 `3.onResume`이 실행됩니다.

더 이상 플레이스토어에서 할 게 없어서 back키를 눌러 앱을 종료시킵니다. 이러면 메인 액티비티의 5~7이 불리면서 메인 액티비티까지 완전히 파괴되며 종료되는 것입니다.

아래 그림은 전체 액티비티가 어떻게 시작되고 어떻게 끝나는지에 대한 순서도입니다.
![Activity](https://developer.android.com/images/activity_lifecycle.png?hl=ko)